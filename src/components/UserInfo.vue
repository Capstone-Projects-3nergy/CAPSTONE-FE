<script setup>
import { computed } from 'vue'
import { useAuthManager } from '@/stores/AuthManager' // âœ… à¹ƒà¸Šà¹‰à¸•à¸±à¸§à¹ƒà¸«à¸¡à¹ˆà¹à¸—à¸™

// ðŸ§  à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ˆà¸²à¸ Pinia store
const authStore = useAuthManager()

// âœ… Computed à¸ªà¸³à¸«à¸£à¸±à¸šà¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
const userName = computed(() => authStore.user?.fullName || 'Guest')

// âœ… Computed à¸ªà¸³à¸«à¸£à¸±à¸šà¸šà¸—à¸šà¸²à¸—à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
const userRole = computed(() => {
  const role = authStore.user?.role
  if (!role) return 'Unknown'
  switch (role.toUpperCase()) {
    case 'STAFF':
      return 'Dormitory Admin'
    case 'RESIDENT':
      return 'Resident'
    default:
      return 'Unknown'
  }
})
</script>

<template>
  <!-- user info -->
  <div class="flex items-center gap-3">
    <!-- à¸§à¸‡à¸à¸¥à¸¡à¹à¸—à¸™à¸£à¸¹à¸›à¹‚à¸›à¸£à¹„à¸Ÿà¸¥à¹Œ -->
    <div class="w-[48px] h-[38px] bg-[#185DC0] rounded-[10px]"></div>

    <!-- à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸Šà¸·à¹ˆà¸­à¸à¸±à¸šà¸šà¸—à¸šà¸²à¸— -->
    <div class="flex flex-col leading-tight">
      <span class="font-medium text-[#185DC0]">{{ userName }}</span>
      <span class="text-[#185DC0] text-sm">{{ userRole }}</span>
    </div>
  </div>
</template>
<!-- <script setup>
import { computed } from 'vue'
import { useLoginManager } from '@/stores/LoginManager'

// ðŸ§  à¸”à¸¶à¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ˆà¸²à¸ Pinia store
const loginStore = useLoginManager()

// âœ… Computed à¸ªà¸³à¸«à¸£à¸±à¸šà¸Šà¸·à¹ˆà¸­à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
const userName = computed(() => loginStore.user?.name || 'Guest')

// âœ… Computed à¸ªà¸³à¸«à¸£à¸±à¸šà¸šà¸—à¸šà¸²à¸—à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰
const userRole = computed(() => {
  if (!loginStore.user?.role) return 'Unknown'
  switch (loginStore.user.role) {
    case 'STAFF':
      return 'Dormitory Admin'
    case 'RESIDENT':
      return 'Resident'
    default:
      return 'Unknown'
  }
})
</script>

<template>

  <div class="flex items-center gap-3">

    <div class="w-[48px] h-[38px] bg-[#185DC0] rounded-[10px]"></div>


    <div class="flex flex-col leading-tight">
      <span class="font-medium text-[#185DC0]">{{ userName }}</span>
      <span class="text-[#185DC0] text-sm">{{ userRole }}</span>
    </div>
  </div>
</template> -->
